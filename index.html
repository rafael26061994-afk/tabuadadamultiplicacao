<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matem√°gica - Jogo da Matem√°tica</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-mode">

    <span id="libras-alert" class="libras-alert hidden">‚è≥ Aten√ß√£o! O tempo est√° acabando!</span>

    <div id="confetti-container"></div>
    <div id="feedback-message" class="feedback-message hidden"></div>

    <div class="container">
        
        <div id="home-screen" class="screen active">
            <header>
                <img src="Sem titulo.png" alt="Logo do Projeto" id="main-logo"> 
            </header>

            <div id="about-section" class="info-card">
                <h2 class="centered-title">Projeto Matem√°gica: Inova√ß√£o e Inclus√£o</h2>
                
                <p>
                    O Projeto Matem√°gica nasceu da vis√£o inovadora do professor **Ronaldo**, que identificou nos truques de m√°gica um poderoso recurso did√°tico para tornar o ensino da matem√°tica mais l√∫dico e envolvente. 
                </p>
                <p>
                    Em 2025, o projeto ganhou uma nova dimens√£o com a chegada do professor **Rafael**. Ele integrou a iniciativa com a proposta de incorporar recursos tecnol√≥gicos, visando ampliar significativamente o alcance, a interatividade e a acessibilidade do projeto.
                </p>
                <p>
                    Dessa parceria ‚Äî que une a criatividade e o perfil emp√°tico de Ronaldo (professor de Matem√°tica) com a autonomia, entusiasmo e o foco de Rafael na acessibilidade e no uso √©tico da intelig√™ncia artificial na educa√ß√£o ‚Äî surgiu uma abordagem pedag√≥gica inovadora que funde m√°gica, matem√°tica e tecnologia. 
                </p>
                <p>
                    Como pessoa com defici√™ncia (monoparesia no lado direito), Rafael traz um compromisso intr√≠nseco com a inclus√£o. Atualmente, o projeto √© desenvolvido na Escola Municipal Vereador Jos√© Ferreira de Aguiar, localizada no bairro Icaivera, em Contagem/MG.
                </p>

                <div class="objectives">
                    <h3>Objetivos principais:</h3>
                    <ul>
                        <li>Ensinar matem√°tica de forma criativa;</li>
                        <li>Estimular o racioc√≠nio l√≥gico;</li>
                        <li>Promover a inclus√£o;</li>
                        <li>Valorizar todos os estudantes.</li>
                    </ul>
                </div>
            </div>

            <p class="call-to-action-paragraph">Escolha uma opera√ß√£o para come√ßar e treinar seu c√©rebro.</p>

            <div class="operation-grid">
                <button class="operation-card" data-operation="addition"><h3>Adi√ß√£o (+)</h3></button>
                <button class="operation-card" data-operation="subtraction"><h3>Subtra√ß√£o (-)</h3></button>
                <button class="operation-card" data-operation="multiplication"><h3>Multiplica√ß√£o (x)</h3></button>
                <button class="operation-card" data-operation="division"><h3>Divis√£o (√∑)</h3></button>
                <button class="operation-card" data-operation="potenciacao"><h3>Potencia√ß√£o (a‚Åø)</h3></button>
                <button class="operation-card" data-operation="radiciacao"><h3>Radicia√ß√£o (‚àö)</h3></button>
            </div>

            <button id="btn-show-ranking" class="main-btn">üèÜ Ver Recordes</button>

            <div class="settings-bar">
                <button id="toggle-night-mode" class="setting-btn">
                    <span class="icon">üåô</span> Modo Noite
                </button>
                <div class="modes-toggle">
                    Modo:
                    <button id="mode-rapido" class="mode-btn active">R√°pido</button>
                    <button id="mode-estudo" class="mode-btn">Estudo</button>
                </div>
            </div>

            <div class="accessibility-bar">
                <span class="access-title">Acessibilidade:</span>
                <button id="toggle-voice-read" class="setting-btn toggle-access">
                    <span class="icon">üîä</span> Leitura de Voz
                </button>
                <button id="toggle-libras" class="setting-btn toggle-access">
                    <span class="icon">ü§ü</span> Modo Libras
                </button>
            </div>

            <div id="creators-section">
                <h3>Criado por:</h3>
                <div class="creators-grid">
                    <div class="creator-card">
                        <img src="ronaldo.png" alt="Avatar de Ronaldo" class="avatar"> 
                        <p>Prof.: Ronaldo Soares</p>
                    </div>
                    <div class="creator-card">
                        <img src="rafael.png" alt="Avatar de Rafael" class="avatar">
                        <p>Prof.: Rafael Oliveira</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="level-selection-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-voltar-home">Mudar Opera√ß√£o</button>
                <h1>Configura√ß√£o e N√≠vel</h1>
            </header>

            <div class="info-card">
                <h2>Selecione a Dificuldade</h2>
                <p>O n√≠vel de dificuldade define a complexidade das quest√µes e, no Modo R√°pido, o tempo limite, que √© dobrado caso a Acessibilidade (Voz ou Libras) esteja ativa, conforme a regra do jogo.</p>
            </div>

            <div class="level-selection">
                <button class="level-btn" data-level="easy">
                    <h3>F√°cil (üë∂)</h3>
                    <p>Ideal para iniciantes. N√∫meros e tabuadas menores (Tempo Base: 15s).</p>
                </button>
                <button class="level-btn" data-level="medium">
                    <h3>M√©dio (üß†)</h3>
                    <p>Desafio moderado. Tabuadas m√©dias, pot√™ncias e ra√≠zes simples (Tempo Base: 30s).</p>
                </button>
                <button class="level-btn" data-level="advanced">
                    <h3>Avan√ßado (üöÄ)</h3>
                    <p>Para mestres. Pot√™ncias e ra√≠zes complexas, tabuadas e n√∫meros altos (Tempo Base: 45s).</p>
                </button>
            </div>

            <p style="text-align: center; margin-top: 20px; font-weight: 600; color: var(--cor-secundaria);">
                O Modo de Jogo (R√°pido/Estudo) e Acessibilidade j√° foram definidos. Clique em um n√≠vel para iniciar o desafio!
            </p>
        </div>


        <div id="game-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-quit-game">SAIR</button>
                <div class="score-info">
                    <span id="player-score">0 Pontos</span>
                    <span id="player-xp">XP: 0</span>
                </div>
            </header>

            <div id="timer-container" class="timer-container">
                <div id="time-bar" class="time-bar"></div>
                <span id="time-display" class="time-display">00s</span> 
            </div>

            <div class="question-area info-card">
                <p id="question-counter">Quest√£o: 1/20</p>
                <h1 id="question-text">5 + 5 = ?</h1>
            </div>

            <div class="options-grid answers-grid">
                <button class="btn-answer" data-key="A"></button>
                <button class="btn-answer" data-key="B"></button>
                <button class="btn-answer" data-key="C"></button>
                <button class="btn-answer" data-key="D"></button>
            </div>

            <div class="action-buttons game-actions">
                <button class="btn-action" id="btn-extend-time" style="display: none;">
                    ‚è±Ô∏è Prorrogar Tempo (<span id="extend-time-cost">100</span> XP)
                </button>
                <button class="btn-action" id="btn-show-answer" style="display: none;">
                    üí° Mostrar Resposta
                </button>
            </div>
        </div>

        <div id="result-screen" class="screen">
            <header>
                <h1>Resultado da Rodada</h1>
            </header>
            
            <div class="info-card result-summary">
                <h2 style="text-align: center;">Pontua√ß√£o Final: <span id="final-score">0</span></h2>
                <p id="study-suggestion" class="suggestion"></p>
                
                <div class="result-details">
                    <div class="result-item">
                        <span class="stat-label">Acertos:</span>
                        <p id="total-hits" class="correct-answer">0</p>
                    </div>
                    <div class="result-item">
                        <span class="stat-label">Erros:</span>
                        <p id="total-misses" class="wrong-answer">0</p>
                    </div>
                </div>

                <div class="xp-summary" style="text-align: center; margin-top: 15px;">
                    <p>XP Ganhos na Rodada: <span id="xp-gained" class="correct-answer">+0</span></p>
                    <p>XP Total: <span id="xp-total">0</span></p>
                </div>
            </div>

            <div class="footer-options">
                <button class="btn-primary btn-voltar-home" style="flex-grow: 1;">Novo Desafio</button>
                <button class="btn-secondary" id="btn-treinar-erros" style="display: none;">Treinar Erros</button>
            </div>
        </div>
        
        <div id="ranking-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-voltar-home">Voltar</button>
                <h1>Ranking de Recordes</h1>
            </header>

            <div class="ranking-container">
                <p id="no-records-message" class="incentive-message hidden">Nenhum recorde registrado ainda. Comece a jogar!</p>
                <div id="ranking-list-container">
                    </div>
            </div>
            <button class="btn-action btn-secondary" id="btn-clear-ranking">Limpar Ranking</button>
        </div>

        <div id="error-training-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-voltar-home">Voltar</button>
                <h1>Treinamento de Erros</h1>
            </header>

            <div class="info-card">
                <p id="error-count-message">Carregando erros...</p>
            </div>
            
            <button class="btn-primary" id="btn-start-training" disabled>Come√ßar Treinamento</button>

            <h2 style="margin-top: 30px; font-size: 1.2em;">√öltimos Erros Salvos:</h2>
            <div id="error-list-container">
                </div>
            
            <button class="btn-action btn-secondary" id="btn-clear-errors" disabled>Limpar Erros Salvos</button>
        </div>


        </div>

    <audio id="alert-sound" src="alert-sound.mp3" preload="auto"></audio> 

    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
        // Inicializa√ß√£o do VLibras
        new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>

    <script src="script.js"></script>
</body>
</html>